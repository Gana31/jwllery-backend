<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gold Appraisal Memo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 5px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border: 1px solid #000;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 20px;
        }
        .bank-logo {
            width: 80px;
            height: 60px;
            object-fit: contain;
        }
        .header-content {
            text-align: center;
        }
        .header h2 {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
        }
        .header p {
            margin: 2px 0;
            font-size: 12px;
        }
        .top-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .bank-details {
            flex: 1;
            padding-right: 20px;
        }
        .jeweller-details {
            flex: 1;
            padding-left: 20px;
     
        }
        .jeweller-details h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            font-weight: bold;
        }
        .jeweller-details p {
            margin: 3px 0;
            font-size: 12px;
        }
        .customer-info {
            margin-bottom: 20px;
        }
        .customer-info p {
            margin: 5px 0;
            font-size: 12px;
        }
        .table-container {
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 10px;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px 4px;
            text-align: center;
            vertical-align: middle;
        }
        th {
            background-color: #f0f0f0;
            font-weight: bold;
        }
        .serial-col { width: 5%; }
        .description-col { width: 20%; }
        .gross-weight-col { width: 10%; }
        .net-weight-col { width: 10%; }
        .carat-col { width: 8%; }
        .rate-col { width: 10%; }
        .value-col { width: 10%; }
        .remarks-col { width: 10%; }
        .approx-col { width: 20%; }
        .total-row {
            font-weight: bold;
            background-color: #f9f9f9;
        }
        .declarations {
            margin-bottom: 20px;
        }
        .declarations p {
            margin: 10px 0;
            font-size: 12px;
            text-align: justify;
        }
        .signatures {
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        .signature-section {
            flex: 1;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            height: 100px; /* adjust as needed for signature space */
        }
        .signature-section h4 {
            margin: 0;
            font-size: 14px;
            font-weight: bold;
            text-decoration: underline;
        }
        .signature-section p {
            margin: 5px 0;
            font-size: 12px;
        }
        .loan-details {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        .loan-details h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            font-weight: bold;
        }
        .loan-details p {
            margin: 5px 0;
            font-size: 12px;
        }
        .photo-section {
            text-align: center;
            margin-bottom: 20px;
        }
        .photo-placeholder {
            width: 230px;
            height: 100px;
            display: inline-block;
            line-height: 100px;
            text-align: center;
            font-size: 10px;
            color: #666;
        }
        .hindi-text {
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <% if (bankDetails.logoUrl) { %>
                <img src="<%= bankDetails.logoUrl %>" alt="Bank of Baroda Logo" class="bank-logo">
            <% } %>
            <div class="header-content">
                <h2>बैंक ऑफ बडौदा / BANK OF BARODA</h2>
                <p>शाखा / Branch: <%= bankDetails.branch %></p>
                <p><strong>Gold Appraisal Memo</strong></p>
            </div>
        </div>

        <!-- Top Section with Bank and Jeweller Details -->
        <div class="top-section">
            <!-- Bank Details (Left Side) -->
            <div class="bank-details">
                <div class="customer-info">
                    <p><strong>Name:</strong> <%= customerDetails.name %></p>
                    <p><strong>A/c No.:</strong> <%= customerDetails.accountNumber %></p>
                    <p><strong>Address:</strong> <%= customerDetails.address %></p>
                    <p><strong>Phone:</strong> <%= customerDetails.phone %></p>
                    <p><strong>Pouch No.:</strong> <%= customerDetails.pouchNo %></p>
                </div>
            </div>

            <!-- Jeweller Details (Right Side) -->
            <div class="jeweller-details" style="text-align: right;">
                <div style="display: flex; align-items: center; justify-content: flex-end; gap: 10px;">
                    <% if (jewellerDetails.logoUrl) { %>
                        <img src="<%= jewellerDetails.logoUrl %>" alt="Jeweller Logo" style="height: 32px; width: auto; display: inline-block; vertical-align: middle;" />
                    <% } %>
                    <h3 style="margin: 0; display: inline-block; vertical-align: middle;"> <%= jewellerDetails.logoName %> </h3>
                </div>
                <p><%= jewellerDetails.typeOfBusiness %></p>
                <p><strong>Address:</strong> <%= jewellerDetails.address %></p>
                <% if (jewellerDetails.phone && jewellerDetails.phone.trim() !== '') { %>
                    <p><%= jewellerDetails.phone %></p>
                <% } %>
                <p><strong>Email:</strong> <%= jewellerDetails.email %></p>
                <p><strong>Account Number:</strong> <%= jewellerDetails.accountNumber %></p>
                <p><strong>IOV Membership No.:</strong> <%= jewellerDetails.iovMembershipNumber %></p>
            </div>
        </div>

        <!-- Table -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th class="serial-col">क्रमांक<br>Sr.<br>No.</th>
                        <th class="description-col">स्वर्ण आभूषणों का<br>विवरण<br>Description of<br>Gold Ornaments</th>
                        <th class="gross-weight-col">कुल भार<br>Gross<br>Weight</th>
                        <th class="net-weight-col">निवल<br>भार<br>Net<br>Weight</th>
                        <th class="carat-col">कैरेट<br>Carat</th>
                        <th class="rate-col">ग्राम केंद्रीय<br>दर<br>Market<br>Value@<br>per gm</th>
                        <th class="value-col">Carat Rate<br>per gm</th>
                        <th class="remarks-col">अन्य<br>Remarks</th>
                        <th class="approx-col">अनुमानित मूल्य<br>Approx Value (₹)</th>
                        <th class="approx-col">Carat Rate ने अंदाजे किंमत<br>Approx Value as per Carat Rate (₹)</th>
                    </tr>
                </thead>
                <tbody>
                    <% tableContent.forEach((item, index) => { %>
                    <tr>
                        <td><%= index + 1 %></td>
                        <td><%= item.description %></td>
                        <td><%= item.grossWeight %></td>
                        <td><%= item.netWeight %></td>
                        <td><%= item.carat %></td>
                        <td><%= item.marketValue %></td>
                        <td><%= item.caratRate %></td>
                        <td><%= item.remarks %></td>
                        <td><%= item.approxValue || '' %></td>
                        <td><%= item.approxValueCarat || '' %></td>
                    </tr>
                    <% }); %>
                    
                    <!-- Empty rows for manual filling
                    <% for(let i = 0; i < 8; i++) { %>
                    <tr>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                    </tr>
                    <% } %> -->
                    
                    <tr class="total-row">
                        <td colspan="2"><strong>Total</strong></td>
                        <td><strong><%= totalDetails.totalGrossWeight || '' %></strong></td>
                        <td><strong><%= totalDetails.totalNetWeight || '' %></strong></td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td><strong><%= totalDetails.totalApproxValue || '' %></strong></td>
                        <td><strong><%= totalDetails.totalApproxValueCarat || '' %></strong></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Declarations -->
        <div class="declarations">
            <p><strong>1.</strong> I hereby confirm having pledged the mentioned gold jewellery for the purpose of availing gold loan from Bank of Baroda.</p>
            
            <div style="margin-top: 50px;">
                <p><strong><u>Signature of Borrower</u></strong></p>
                <p><strong>2.</strong> I hereby certify that I have tested / <strong><%= apprenticeType === 'apprentice' ? 'Appraised' : 'Reappraised' %></strong> the above & the gross weight of the article, net weight of gold, carat, purity of fineness, rate per gram & market value shown against the ornaments mentioned above are to the best of my knowledge correct & in order.</p>
            </div>
            
            <div style="margin-top: 50px;">
                <% if (signatureUrl) { %>
                    <div style="text-align: left; margin-bottom: 10px;">
                        <img src="<%= signatureUrl %>" alt="Jeweller Signature" style="max-width: 120px; max-height: 60px; object-fit: contain;">
                    </div>
                <% } %>
                <p><strong><u>Signature of Assayer</u></strong></p>
                <p><strong>3.</strong> We hereby declare that above items of jewellery/Ornaments have been received by us and are in our joint custody.</p>
            </div>
        </div>

        <!-- Loan and Photo Row -->
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin: 40px 0 60px 0;">
            <!-- Loan Details (Left) -->
            <div style="flex: 1; padding-right: 20px;">
                <div class="loan-details" style="margin-top: 0; padding-top: 0; border-top: none;">
                    <p><strong>Loan Amount: Rs.</strong> <%= loanDetails.amount %></p>
                    <p><strong>Due Date:</strong> <%= loanDetails.dueDate %></p>
                    <p><strong>Date of Appraisal:</strong> <%= loanDetails.date %></p>
                    <% if (loanDetails.tests && loanDetails.tests.length > 0) { %>
                      <div style=" text-align: left;">
                        <strong style="font-size: 12px;">Tests Performed:</strong>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px 12px; margin-top: 3px;">
                          <% loanDetails.tests.forEach(function(test) { %>
                            <span style="display: flex; align-items: center; font-size: 12px;">
                              <span style="color: green; font-size: 13px; margin-right: 4px;">&#10003;</span>
                              <span><%= test %></span>
                            </span>
                          <% }); %>
                        </div>
                      </div>
                    <% } %>
                </div>
            </div>
            <!-- Photo (Right) -->
            <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                <% if (photoDetails.photoUrl) { %>
                <div class="photo-section" style="margin-bottom: 0;">
                    <div class="photo-placeholder">
                        <img src="<%= photoDetails.photoUrl %>" alt="Jewellery Photo" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                </div>
                <% } %>
            </div>
        </div>

        <!-- Signatures (with vertical gap above) -->
        <div class="signatures" style="margin-top: 60px;">
            <div class="signature-section">
                <h4>अधिकारी के हस्ताक्षर<br>Signature of Joint Custodian</h4>
            </div>
            <div class="signature-section">
                <h4>प्रबंधक के हस्ताक्षर<br>Signature of Manager</h4>
            </div>
        </div>
    </div>
</body>
</html>